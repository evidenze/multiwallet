# Multi Wallet RESTful API

A RESTful APIs for a multi-wallet application that allow users to send funds from one wallet to another. Please note that this API is developed for the purpose of the assessment, production version of this API might be improved by adding tests, admin access, etc.

## Note

This app is built with Laravel framework. Details on how to set up your local machine for development and requirements can be found on the official Laravel website [https://laravel.com/docs/9.x/installation](https://laravel.com/docs/9.x/installation)

## API Documentation

Here is the link to the API documentation of this app. [https://evidenzeekanem.gitbook.io/multi-wallet-api-documentation/](https://evidenzeekanem.gitbook.io/multi-wallet-api-documentation/)


Prerequisites
-------------

- [Mysql](https://www.mysql.com/) or [Postgresql](http://www.postgresql.org/)
- [PHP 8.1.0](http://php.net/)
- Command Line Tools
- <img src="http://deluge-torrent.org/images/apple-logo.gif" height="17">&nbsp;**Mac OS X:** [Xcode](https://itunes.apple.com/us/app/xcode/id497799835?mt=12) (or **OS X 10.9+**: `xcode-select --install`)
- <img src="http://dc942d419843af05523b-ff74ae13537a01be6cfec5927837dcfe.r14.cf1.rackcdn.com/wp-content/uploads/windows-8-50x50.jpg" height="17">&nbsp;**Windows:** [Visual Studio](https://www.visualstudio.com/products/visual-studio-community-vs)


## How to install

Clone the repo:

```bash
git clone https://github.com/evidenze/multiwallet.git

cd multiwallet
```

Install the dependencies:

```bash
composer install
```

Set the environment variables:

```bash
# Copy .env.example to .env
cp .env.example .env

# Create a database (with mysql or postgresql)
# And update .env file with database credentials
# DB_CONNECTION=mysql
# DB_HOST=127.0.0.1
# DB_DATABASE=multiwallet
# DB_USERNAME=root
# DB_PASSWORD=root
```

Generate application key:

```bash
php artisan key:generate
```

Migrate the database

```bash
php artisan migrate
```

Install Passport

```bash
php artisan passport:install
```

Generate test users and wallets (Optional)

```bash
php artisan db:seed
```

Run the app locally:

```bash
php artisan serve
```

Once you have started the Artisan development server, you may access your application at http://localhost:8000

### API Endpoints

List of available routes:

**Auth routes**:\
`POST /api/register` - Register new user\
`POST /api/login` - Login user

**User routes**:\
`GET /api/user` - Return authenticated user's details\
`GET /api/transactions` - Return authenticated user transactions

**Wallet routes**:\
`POST /api/wallet` - Create a new wallet\
`GET /api/wallet/{id}` - Get a single wallet\
`DELETE /api/wallet/{id}` - Delete a wallet\
`GET /api/wallet/{id}/transactions` - Get wallet transactions\
`POST /api/wallet/fund` - Fund wallet\
`POST /api/wallet/transfer` - Send funds to another wallet

**Statistics routes**:\
`GET /api/users` - Return all users in the app\
`GET /api/user/{id}` - Return a user\
`GET /api/wallets` - Return all wallets in the app\
`GET /api/all-stats` - Return all statistics in one request\
`GET /api/total-users` - Return the count of all users in the app\
`GET /api/total-wallets` - Return the count of all wallets in the app\
`GET /api/total-wallet-balance` - Return the sum of all the wallet balances in the app\
`GET /api/total-transactions-volume` - Return the sum of all the transactions volume in the app


**Generating Access Tokens**:

An access token can be generated by making a successful call to the register (`POST /api/register`) or login (`POST /api/login`) endpoints.